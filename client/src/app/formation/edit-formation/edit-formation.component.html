<main class="profile-page">
  <section class="section-profile-cover section-shaped my-0">
    <!-- Circles background -->
    <div class="shape shape-style-1 shape-primary alpha-4">
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
    </div>
    <!-- SVG separator -->
    <div class="separator separator-bottom separator-skew">
      <svg x="0" y="0" viewBox="0 0 2560 100" preserveAspectRatio="none" version="1.1" xmlns="http://www.w3.org/2000/svg">
        <polygon class="fill-white" points="2560 0 2560 100 0 100"></polygon>
      </svg>
    </div>
  </section>

  <section class="section">
      <div class="container">
        <div class="card card-profile shadow mt--300">
          <div class="px-4">
            <div class="row justify-content-center">
              
              <div class="col-lg-4 order-lg-3 text-lg-right align-self-lg-center">
               
              </div>
              <div class="col-lg-4 order-lg-1">
                
              </div>
            </div>

            <div class="text-center mt-5">
              <h3>Formation</h3>
              
            </div>
            <div class="mt-5 py-5 border-top text-center">
              <div class="row justify-content-center">
                <div class="col-lg-9">
                    <div class="contact100-form-title  contact100-header flex-sb-m">
                        
                      <input class="form-control" type="hidden" name="href" [(ngModel)]="formation.href">
                    </div>
                   
                  <form #formationForm="ngForm" (ngSubmit)="save(formationForm.value)" class="contact100-form validate-form">
                      
                     
                        
                      <div class="contact100-form-title  contact100-header flex-sb-m">
  
                          <input class="form-control" type="hidden" name="href" [(ngModel)]="formation.href">
                      </div>
              
                      
                     
                    <div class="container mb-5">
                      <div class="row">

                        <div class="col-lg-5 col-sm-4" >
                          <div class="form-group">
                            <label>Titre formation</label>
                            <input [disabled]="compte.typeCompteId != 'responsable'" value="formation.name" [(ngModel)]="formation.name"type="text" placeholder="Formation..." class="form-control" required name="name" #name>
                          </div>
                        </div>
                      </div>

                    
                      <div class="row">
                        <div class="col-lg-6 col-sm-6">
                          <div class="form-group">
                            <label>Durée</label>
                            <input value="formation.duree" [disabled]="compte.typeCompteId != 'responsable'" [(ngModel)]="formation.duree" type="text" placeholder="Durée..." class="form-control" required name="duree" #duree>
                          </div>
                        </div>

                        <div class="col-lg-8 col-sm-8">
                          <div class="form-group">
                            <label>description</label>
                            <textarea [disabled]="compte.typeCompteId != 'responsable'" [(ngModel)]="formation.description" class="form-control"  required name="description" placeholder="Description Formation" #description></textarea>
                          </div>
                        </div>
                       
                      </div>
                    </div>
                   
                  
                      
                      <button [hidden]="compte.poste != 'formation'" type="submit" [disabled]="!formationForm.form.valid" mat-raised-button color="primary"class="btn btn-warning pull-left" style="margin-left:12px;">
                          {{formation.name ? 'Modifier' : 'Ajouter'}}
                        </button>

                        <button [hidden]="compte.poste != 'formation'"  type="button" (click)="remove(formation.href)" *ngIf="formation.href"  mat-raised-button color="primary"class="btn btn-warning pull-left" style="margin-left:12px;">
                            Supprimer
                          </button>

                        <button (click)="demadeFormation(idCompte,idFormation)" [hidden]="compte.poste != 'employe'" type="button" mat-raised-button color="primary"class="btn btn-warning pull-left" style="margin-left:12px;">
                           Demander
                          </button>
                      

                          <button type="button" [routerLink]="['/formation']" class="btn btn-warning pull-right">
                            Annuler
                          </button>
                 </form>

                </div>
              </div>
            </div>



          
               
            <div [hidden]="compte.poste != 'foramtion'" class="col-md-9" style="margin-left: 30px">
                <label class="display-4  text-black" >
                    Liste des demandes
                  </label>
                <div >
    
                   
            <div  class="wrap-input100 validate-input"*ngFor="let forma of formations">
                <div *ngIf="forma.id == formation.id">
                  <div *ngFor="let compte of forma.comptes">
                    <ul>
                      
                        <a [routerLink]="['/profile', compte.id]" >
                          <i _ngcontent-c4="" class="ni ni-circle-08"> </i>
                          <span _ngcontent-c11="" class="lead text-muted">  {{compte.name}} {{compte.lastname}}</span>
                        </a>
                      
                    </ul>
                  </div>
                </div>
              </div>
              </div>
              </div>
          </div>
        </div>
      </div>
      
    </section>
  
</main>